<div class="transformation-results-table">
    <h4 class="title">Transformation Execution Results</h4>
    <p>View the results of past transformation executions.</p>
    <ngx-datatable #historyTable class="material expandable" [rows]="history" [columnMode]='force' [headerHeight]="50" [footerHeight]="50" [rowHeight]="auto" [scrollbarH]="true" [limit]="8">
        <ngx-datatable-row-detail [rowHeight]="auto">
            <template let-row="row" ngx-datatable-row-detail-template>
                <div class="row-details">
                    <div>
                        <!--TODO: Add options -->
                        <output [outputJSON]="row"></output>
                    </div>
                </div>
            </template>
        </ngx-datatable-row-detail>
        <ngx-datatable-column [width]="50" [resizeable]="false" [sortable]="false" [draggable]="false" [canAutoResize]="false">
            <template let-row="row" ngx-datatable-cell-template>
                <a
                        [class.icon-right]="!row.$$expanded"
                        [class.icon-down]="row.$$expanded"
                        title="Expand/Collapse Details"
                        (click)="toggleExpandRow(row)">
                </a>
            </template>
        </ngx-datatable-column>
        <ngx-datatable-column name="State">
            <template let-row="row" let-value="value" ngx-datatable-cell-template>
                {{row.state}}
            </template>
        </ngx-datatable-column>
        <ngx-datatable-column name="Last Execution">
            <template let-row="row" let-value="value" ngx-datatable-cell-template>
                {{row.lastExecution}}
            </template>
        </ngx-datatable-column>
        <ngx-datatable-column name="Elapsed Time">
            <template let-row="row" let-value="value" ngx-datatable-cell-template>
                <span [hidden]="!updating" class="fa fa-refresh fa-spin"></span>
                <span>{{row.elapsedTime}} </span>
            </template>
        </ngx-datatable-column>
    </ngx-datatable>
</div>